{"ast":null,"code":"import { userConstants } from '../constants/user.constants'; // import { history } from '../history';\n\nconst initialState = {\n  isAuthenticated: null,\n  isLoading: false,\n  user: null\n};\nexport function authentication(state = initialState, action) {\n  console.log(\"authentication.payname: \" + action.payname);\n  console.log(\"authentication.action.type: \" + action.type);\n\n  switch (action.type) {\n    // case userConstants.USER_LOADING:\n    //   return {\n    //     ...state,\n    //     isLoading: true\n    //   };\n    case userConstants.USER_LOADED:\n      return { ...state,\n        ...action.payname,\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.payname\n      };\n\n    case userConstants.LOGIN_SUCCESS:\n    case userConstants.REGISTER_SUCCESS:\n      return { ...state,\n        user: action.payname,\n        isAuthenticated: true,\n        isLoading: false\n      };\n    // case userConstants.AUTH_ERROR:\n\n    case userConstants.LOGIN_FAIL:\n    case userConstants.LOGOUT_SUCCESS:\n      // case userConstants.REGISTER_FAIL:\n      localStorage.removeItem('admin');\n      localStorage.removeItem('airlineCompany');\n      localStorage.removeItem('customer');\n      return { ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n} // export function authentication(state = initialState, action) {\n//   switch (action.type) {\n//     case userConstants.LOGIN_REQUEST:\n//       return {\n//         ...state,\n//         loggingIn: true,\n//         user: action.payload\n//       };\n//     case userConstants.LOGIN_SUCCESS:\n//       // console.log(\"from authentication: \" + action.user)\n//       return {\n//         ...state,\n//         loggedIn: true,\n//         loggingIn: false,\n//         user: action.payload\n//       };\n//     case userConstants.LOGIN_FAILURE:\n//       return {};\n//     case userConstants.LOGOUT:\n//       return {};\n//     default:\n//       return state\n//   }\n// }","map":{"version":3,"sources":["C:/Projects/react-flights/src/reducers/authentication.reducer.js"],"names":["userConstants","initialState","isAuthenticated","isLoading","user","authentication","state","action","console","log","payname","type","USER_LOADED","LOGIN_SUCCESS","REGISTER_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","localStorage","removeItem"],"mappings":"AAAA,SAASA,aAAT,QAA8B,6BAA9B,C,CACA;;AAEA,MAAMC,YAAY,GAAE;AAClBC,EAAAA,eAAe,EAAE,IADC;AAElBC,EAAAA,SAAS,EAAE,KAFO;AAGlBC,EAAAA,IAAI,EAAE;AAHY,CAApB;AAMA,OAAO,SAASC,cAAT,CAAwBC,KAAK,GAAGL,YAAhC,EAA8CM,MAA9C,EAAsD;AAE3DC,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6BF,MAAM,CAACG,OAAhD;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAiCF,MAAM,CAACI,IAApD;;AAEA,UAAQJ,MAAM,CAACI,IAAf;AACE;AACA;AACA;AACA;AACA;AACA,SAAKX,aAAa,CAACY,WAAnB;AACE,aAAO,EACL,GAAGN,KADE;AAEL,WAAGC,MAAM,CAACG,OAFL;AAGLR,QAAAA,eAAe,EAAE,IAHZ;AAILC,QAAAA,SAAS,EAAE,KAJN;AAKLC,QAAAA,IAAI,EAAEG,MAAM,CAACG;AALR,OAAP;;AAQF,SAAKV,aAAa,CAACa,aAAnB;AACA,SAAKb,aAAa,CAACc,gBAAnB;AACE,aAAO,EACL,GAAGR,KADE;AAELF,QAAAA,IAAI,EAAEG,MAAM,CAACG,OAFR;AAGLR,QAAAA,eAAe,EAAE,IAHZ;AAILC,QAAAA,SAAS,EAAE;AAJN,OAAP;AAOF;;AACA,SAAKH,aAAa,CAACe,UAAnB;AACA,SAAKf,aAAa,CAACgB,cAAnB;AACA;AACEC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,gBAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AAEA,aAAO,EACL,GAAGZ,KADE;AAELF,QAAAA,IAAI,EAAE,IAFD;AAGLF,QAAAA,eAAe,EAAE,KAHZ;AAILC,QAAAA,SAAS,EAAE;AAJN,OAAP;;AAMF;AACE,aAAOG,KAAP;AAvCJ;AAyCD,C,CAMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { userConstants } from '../constants/user.constants';\r\n// import { history } from '../history';\r\n\r\nconst initialState= {\r\n  isAuthenticated: null,\r\n  isLoading: false,\r\n  user: null\r\n}\r\n\r\nexport function authentication(state = initialState, action) {\r\n\r\n  console.log(\"authentication.payname: \" + action.payname)\r\n  console.log(\"authentication.action.type: \" + action.type)\r\n\r\n  switch (action.type) {\r\n    // case userConstants.USER_LOADING:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: true\r\n    //   };\r\n    case userConstants.USER_LOADED:\r\n      return {\r\n        ...state,\r\n        ...action.payname,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n        user: action.payname\r\n      };\r\n      \r\n    case userConstants.LOGIN_SUCCESS:\r\n    case userConstants.REGISTER_SUCCESS:\r\n      return {\r\n        ...state, \r\n        user: action.payname,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n      };\r\n     \r\n    // case userConstants.AUTH_ERROR:\r\n    case userConstants.LOGIN_FAIL:\r\n    case userConstants.LOGOUT_SUCCESS:\r\n    // case userConstants.REGISTER_FAIL:\r\n      localStorage.removeItem('admin');\r\n      localStorage.removeItem('airlineCompany');\r\n      localStorage.removeItem('customer');\r\n \r\n      return {\r\n        ...state,\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// export function authentication(state = initialState, action) {\r\n//   switch (action.type) {\r\n//     case userConstants.LOGIN_REQUEST:\r\n//       return {\r\n//         ...state,\r\n//         loggingIn: true,\r\n//         user: action.payload\r\n//       };\r\n//     case userConstants.LOGIN_SUCCESS:\r\n//       // console.log(\"from authentication: \" + action.user)\r\n//       return {\r\n//         ...state,\r\n//         loggedIn: true,\r\n//         loggingIn: false,\r\n//         user: action.payload\r\n//       };\r\n\r\n\r\n\r\n//     case userConstants.LOGIN_FAILURE:\r\n//       return {};\r\n//     case userConstants.LOGOUT:\r\n//       return {};\r\n//     default:\r\n//       return state\r\n//   }\r\n// }"]},"metadata":{},"sourceType":"module"}